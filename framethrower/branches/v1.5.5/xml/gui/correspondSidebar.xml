<f:function
	xmlns:f="http://www.filmsfolded.com/xsl/ui"
	xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:svg="http://www.w3.org/2000/svg">
	
	<f:param name="zui" />
	<f:param name="focus" />
	<f:derived name="children" from="focus">
		<f:get what="involves" />
		<f:filter>
			<f:get what="relation" />
			<f:equals>
				<f:start predef="corresponds" />
			</f:equals>
		</f:filter>
		<f:foreach type="kernel.ob">
			<f:get what="arcs" />
			<f:getkey key="'anchor'" />
		</f:foreach>
		<f:get what="involves" />
		<f:filter>
			<f:get what="relation" />
			<f:equals>
				<f:start predef="corresponds" />
			</f:equals>
		</f:filter>
		<f:foreach type="kernel.ob">
			<f:get what="arcs" />
			<f:getkey key="'corresponder'" />
		</f:foreach>
	</f:derived>
	
	<xsl:template>
		<html:div style="color:green">
			<f:thunk url="printTree.xml">
				<f:with-param name="focus"><xsl:copy-of select="$children" /></f:with-param>
			</f:thunk>
		</html:div>
	</xsl:template>
</f:function>
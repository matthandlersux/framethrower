<f:function
	xmlns:f="http://www.filmsfolded.com/xsl/ui"
	xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:svg="http://www.w3.org/2000/svg">

	<f:param name="focus" />
	<f:derived name="correspondsTree" from="focus">
		<treeify property="parentSituation" />
	</f:derived>
	
	<xsl:template>
		<html:div style="margin-left: 0px">
			<html:b>
				Corresponds Tree
			</html:b>
			
			<xsl:call-template name="recurse">
				<xsl:with-param name="focus" select="$correspondsTree" />
			</xsl:call-template>
		</html:div>
				
	</xsl:template>
	
	<xsl:template name="recurse">
		<xsl:param name="focus" />
			<html:div style="margin-left: 10px">
				<xsl:if test="$focus/f:value/f:ob/@id">			
					<f:thunk url="printContent.xml">
						<f:with-param name="focus" value-id="{$focus/f:value/f:ob/@id}" />
						<f:with-param name="style"><f:string value="listentry" /></f:with-param>
					</f:thunk>
				</xsl:if>

				<xsl:for-each select="$focus/f:child">
					<xsl:call-template name="recurse">
						<xsl:with-param name="focus" select="." />
					</xsl:call-template>
				</xsl:for-each>
		</html:div>
	</xsl:template>
</f:function>
<f:function
	xmlns:f="http://www.filmsfolded.com/xsl/ui"
	xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:svg="http://www.w3.org/2000/svg">

	<f:param name="focus" />
	<f:derived name="content" from="focus">
		<get what="content" />
	</f:derived>
	<f:derived name="trace" from="focus">
		<trace what="parentSituation" />
	</f:derived>
	
	<xsl:template>
		<html:span>
			<xsl:choose>
				<xsl:when test="$content/self::f:string">
					<xsl:value-of select="$content/@value" />
				</xsl:when>
				<xsl:otherwise>
					<xsl:copy-of select="$content" />
				</xsl:otherwise>
			</xsl:choose>
			
			<xsl:text> </xsl:text>
			<html:i>(id: <xsl:value-of select="$focus/@id" />)</html:i>
			<html:u>(Trace: 
				<xsl:for-each select="$trace/*">
					<xsl:value-of select="@id" />
				</xsl:for-each>
			)</html:u>
		</html:span>
	</xsl:template>
</f:function>
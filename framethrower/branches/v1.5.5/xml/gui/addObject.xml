<f:function
	xmlns:f="http://www.filmsfolded.com/xsl/ui"
	xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:svg="http://www.w3.org/2000/svg">

	<f:param name="width" />
	<f:param name="height" />
	<f:param name="panelLayer" />

	<f:derived name="addFocus" from="panelLayer">
		<f:get what="addFocus" />
	</f:derived>
	
	<xsl:template>
		<html:div>
			<f:binding url="bindings/addObject.xml">
				<f:with-param name="panelLayer"><xsl:copy-of select="$panelLayer" /></f:with-param>
			</f:binding>
			<html:div style="z-index:4; position:absolute; left:0; top:0; width:100%; height:100%;">
				<svg:svg width="100%" height="100%">
					<svg:rect x="0" y="0" width="100%" height="100%" opacity=".7" fill="black" stroke="#333" stroke-width="0" />
				</svg:svg>
			</html:div>
			<html:div style="z-index:5; position:absolute;" left="{$width/@value * .25}" top="{$height/@value * .25}" width="{$width/@value * .5}" height="{$height/@value * .5}">
				<f:thunk url="graphics/zuiPane.xml">
					<f:with-param name="width"><f:number value="{$width/@value * .5}" /></f:with-param>
					<f:with-param name="height"><f:number value="{$height/@value * .5}" /></f:with-param>
					<f:with-param name="border"><f:number value="15" /></f:with-param>
					<f:with-param name="titleBarHeight"><f:number value="30" /></f:with-param>
					<f:with-param name="color"><f:string value="orange" /></f:with-param>
				</f:thunk>
				
				<html:div class="zuiTitle" left="0" top="0" width="{$width/@value}" height="30">
					Add Object to Situation:
					<f:thunk url="printContent.xml">
						<f:with-param name="focus"><xsl:copy-of select="$addFocus" /></f:with-param>
						<f:with-param name="style"><f:string value="inline" /></f:with-param>
					</f:thunk>
					
					<html:span style="margin-left:15px;">
						<f:button name="close" />
						X
					</html:span>				
				</html:div>
				
			</html:div>
		</html:div>
	</xsl:template>
	
	
</f:function>
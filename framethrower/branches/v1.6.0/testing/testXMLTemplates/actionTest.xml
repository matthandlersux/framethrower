<f:action name="actionTest"
	xmlns:f="http://www.worldmerge.com/2008/xsl"
	xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:svg="http://www.w3.org/2000/svg">
	
	<f:derive name="in" d="shared.in" />
	
	<f:perform with-action="$subAction" name="myObject" />
	<!-- <f:create type="K.object" name="myObject" /> -->
	
	<f:perform with-action="$makeCons">
		<f:with-param name="left" select="$in" />
		<f:with-param name="right" select="$myObject" />
	</f:perform>
	
	<f:action name="subAction">
		<f:create type="K.object" name="x" />
		<f:return name="x" />
	</f:action>
	
	<f:action name="makeCons">
		<f:param name="left" type="K.object" />
		<f:param name="right" type="K.object" />
		
		<f:create type="K.cons" name="cons">
			<f:with-param name="left" select="$left" />
			<f:with-param name="right" select="$right" />
		</f:create>
		
		<f:intact object="$left" property="upLeft" action="add" key="$cons" />
		<f:intact object="$right" property="upRight" action="add" key="$cons" />
		
		<f:return name="cons" />
	</f:action>
	
</f:action>
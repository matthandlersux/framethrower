<f:includes
	xmlns:f="http://www.worldmerge.com/2008/xsl"
	xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:svg="http://www.w3.org/2000/svg">

	<f:action name="showPopup">
		<f:param name="x" type="Number" />
		<f:param name="y" type="Number" />
		<f:param name="width" type="Number" />
		<f:param name="height" type="Number" />
		<f:param name="content" type="Unit JS" />
		
		<f:derive name="main" d="ui.main" />
		
		<f:create type="UI.popup" name="popup">
			<f:with-param name="x" select="$x" />
			<f:with-param name="y" select="$y" />
			<f:with-param name="width" select="$width" />
			<f:with-param name="height" select="$height" />
			<f:with-param name="content" select="$content" />
		</f:create>
		
		<f:intact object="$main" property="popup" action="add" key="'b'" value="$popup" />
	</f:action>
	
	<f:action name="hidePopup">
		<f:derive name="main" d="ui.main" />
		<f:intact object="$main" action="remove" property="popup" key="'b'" />
	</f:action>
	
	<f:action name="stopDragging">
		<f:derive name="main" d="ui.main" />
		<f:intact object="$main" action="remove" property="dragging" />
	</f:action>

</f:includes>